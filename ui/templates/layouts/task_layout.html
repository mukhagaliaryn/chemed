{% extends 'layouts/base_layout.html' %}
{% load static %}


{% block base_layout %}
<div class="max-w-screen-2xl w-full mx-auto grid gap-8 p-8 text-center">
    <div class="flex justify-center items-center gap-2">
        {% if prev_user_task %}
            <a 
                href="{% url 'user_lesson_task' user_subject.id user_chapter.id user_lesson.id prev_user_task.id %}" 
                class="border border-border-200 rounded-xl p-2 hover:bg-secondary-100"
            >
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-chevron-left-icon lucide-chevron-left">
                    <path d="m15 18-6-6 6-6" />
                </svg>
            </a>
        {% endif %}
        {% for ut in user_tasks %}
            {% url 'user_lesson_task' user_subject.id user_chapter.id user_lesson.id ut.id as user_lesson_task %}
            <a 
                href="{{ user_lesson_task }}" 
                class="w-full h-3 rounded-lg transition-all hover:scale-105 {% if request.path == user_lesson_task %}bg-blue-600{% else %}{% if ut.is_completed %}bg-primary-600{% else %}bg-secondary-200{% endif %}{% endif %}">
            </a>
        {% endfor %}

        {% if next_user_task %}
            <a 
                href="{% url 'user_lesson_task' user_subject.id user_chapter.id user_lesson.id next_user_task.id %}" 
                class="border border-border-200 rounded-xl p-2 hover:bg-secondary-100"    
            >
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-chevron-right-icon lucide-chevron-right">
                    <path d="m9 18 6-6-6-6" />
                </svg>
            </a>
        {% endif %}
    </div>
    
    <div class="w-full">
        {% block task_layout %}
        {% endblock task_layout %}
    </div>
</div>
{% endblock base_layout %}